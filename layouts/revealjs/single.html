{{ define "custom_head" }}
{{ partial "reveal_head" . }}
{{ end }}

{{ define "body" }}
<body class="quarto-light">
<img src="/img/buw_logo.svg" class="slide-logo">
<div id="home">
  <a href="/"><i class="fa-solid fa-house"></i></a>
</div>
<div class="reveal">
<div class="slides">

  
<section id="title-slide" class="center">
  <div id="title-container">
  <p class="week">{{ .Params.subtitle }}</p>
  <h1 class="title">{{ .Title }}</h1>
  <p class="subtitle">IUDD Research Skills</p>
  <p class="date">{{ .Date.Format "2 January 2006" }}</p>
  <p class="author">{{ with .Page.Params.Author }}{{ . }}{{ else }}{{print "Dr " .Site.Author.name }}{{ end }}</p>
  <p class="institute">Bauhaus-University Weimar</p>
  </div>
  </section>
{{ $paragraphs := split .Content "<h2 " }}
{{ range $index, $p := $paragraphs }}
{{ if eq $index 0}}
{{ else }}
  {{ $headingId := ""}}
  {{ with index (findRE `id=".*?"` $p 1) 0 }}
  {{ $headingId = replaceRE `id="(.*?)"` "$1" .}}
  {{ end }}
  {{ $easing:= index (findRE `data-auto-animate-easing=".*?"` $p 1) 0 }}
  {{ with $easing }}
  {{ $easing = replaceRE `.*?"(.*?)"` "$1" . }}
  {{ else }}
  {{ $easing = "ease-in-out" }}
  {{ end }}
  {{ $animate := index (findRE `data-auto-animate=".*?"` $p 1) 0 }}
  {{ with $animate }}
  <section id="{{ $headingId }}" data-auto-animate="true" data-auto-animate-easing='{{ $easing }}' class="slide level2">
  {{ else }}    
  <section id="{{ $headingId }}" class="slide level2">
  {{ end }}  
  {{ $p = replaceRE `<p>(.*?){.(.*?)}\s*</p>` "<p class='$2'>$1</p>" $p }}
  {{ print "<h2 " $p | safeHTML  }}
  </section>
{{ end}}
{{ end }}

<section id="any-questions">
  <h2 class="middle">Any questions?</h2>
</section>
<section data-background='{{ with resources.Get "img/end.jpg" }}{{ .RelPermalink }}{{ end }}'>
</section>
</div>
</div>
</body>
{{ end }}

{{ define "foot" }}
{{ partial "reveal_foot" . }}
{{ end }}
